# ========== 服务器配置 ==========
OPS_SERVER__ADDR=0.0.0.0:3000
OPS_SERVER__GRACEFUL_SHUTDOWN_TIMEOUT_SECS=30

# ========== 数据库配置 ==========
# 生产环境:使用强密码
OPS_DATABASE__URL=postgresql://ops_user:changeme@postgres:5432/ops_system
OPS_DATABASE__MAX_CONNECTIONS=10
OPS_DATABASE__MIN_CONNECTIONS=2
OPS_DATABASE__ACQUIRE_TIMEOUT_SECS=30
OPS_DATABASE__IDLE_TIMEOUT_SECS=600
OPS_DATABASE__MAX_LIFETIME_SECS=1800

# ========== 日志配置 ==========
# 可选值: trace, debug, info, warn, error
OPS_LOGGING__LEVEL=info
# 可选值: json, pretty
OPS_LOGGING__FORMAT=json

# ========== 安全配置 ==========
# JWT 密钥（至少 32 字符，生产环境必须更改）
OPS_SECURITY__JWT_SECRET=change-this-secret-in-production-min-32-chars
# 访问令牌过期时间（秒），默认 900 (15分钟)
OPS_SECURITY__ACCESS_TOKEN_EXP_SECS=900
# 刷新令牌过期时间（秒），默认 604800 (7天)
OPS_SECURITY__REFRESH_TOKEN_EXP_SECS=604800
# 密码策略
OPS_SECURITY__PASSWORD_MIN_LENGTH=8
OPS_SECURITY__PASSWORD_REQUIRE_UPPERCASE=true
OPS_SECURITY__PASSWORD_REQUIRE_DIGIT=true
OPS_SECURITY__PASSWORD_REQUIRE_SPECIAL=false
# 登录安全
OPS_SECURITY__MAX_LOGIN_ATTEMPTS=5
OPS_SECURITY__LOGIN_LOCKOUT_DURATION_SECS=1800
# 速率限制(每秒请求数)
OPS_SECURITY__RATE_LIMIT_RPS=100
# 信任X-Forwarded-For(反向代理后设为true)
OPS_SECURITY__TRUST_PROXY=true
# IP白名单(逗号分隔,可选)
# OPS_SECURITY__ALLOWED_IPS=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# ========== Docker Compose 环境变量 ==========
POSTGRES_DB=ops_system
POSTGRES_USER=ops_user
POSTGRES_PASSWORD=changeme
